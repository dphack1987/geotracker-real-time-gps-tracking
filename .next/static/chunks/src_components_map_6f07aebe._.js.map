{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/map/dynamic-map.tsx"],"sourcesContent":["\"use client\"\n\nimport dynamic from 'next/dynamic'\nimport { type ComponentProps } from 'react'\n\nconst MapComponent = dynamic(\n  () => import('./map-component'),\n  { \n    ssr: false,\n    loading: () => (\n      <div className=\"animate-pulse bg-gray-800/50 rounded-lg border border-border shadow-sm\" \n           style={{ height: '400px' }}>\n        <div className=\"h-full w-full flex items-center justify-center text-muted-foreground\">\n          Cargando mapa...\n        </div>\n      </div>\n    )\n  }\n)\n\nexport function DynamicMap(props: ComponentProps<typeof MapComponent>) {\n  return <MapComponent {...props} />\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;;AAKA,MAAM,eAAe,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EACzB;;;;;;IAEE,KAAK;IACL,SAAS,kBACP,6LAAC;YAAI,WAAU;YACV,OAAO;gBAAE,QAAQ;YAAQ;sBAC5B,cAAA,6LAAC;gBAAI,WAAU;0BAAuE;;;;;;;;;;;;KAPxF;AAeC,SAAS,WAAW,KAA0C;IACnE,qBAAO,6LAAC;QAAc,GAAG,KAAK;;;;;;AAChC;MAFgB","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/map/live-location-map.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { DynamicMap } from \"./dynamic-map\"\nimport { type GeolocationData } from \"@/lib/services/geo-service\"\n\ninterface LiveLocationMapProps {\n  height?: string\n  showAccuracyCircle?: boolean\n  autoCenter?: boolean\n  initialLocation?: GeolocationData\n}\n\nexport default function LiveLocationMap({\n  height = \"400px\",\n  showAccuracyCircle = true,\n  autoCenter = true,\n  initialLocation\n}: LiveLocationMapProps) {\n  const [location, setLocation] = useState<GeolocationData | null>(initialLocation || null)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (initialLocation) {\n      setLocation(initialLocation)\n      return // No iniciar geolocalizaci贸n si hay ubicaci贸n inicial\n    }\n\n    if (!navigator.geolocation) {\n      setError(\"Geolocalizaci贸n no soportada\")\n      return\n    }\n\n    let watchId: number | undefined\n\n    const handleSuccess = (position: GeolocationPosition) => {\n      setLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        altitude: position.coords.altitude,\n        speed: position.coords.speed,\n        heading: position.coords.heading,\n        timestamp: position.timestamp\n      })\n      setError(null)\n    }\n\n    const handleError = (error: GeolocationPositionError) => {\n      console.error(\"Error getting location:\", error)\n      setError(\"Error al obtener ubicaci贸n\")\n    }\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    }\n\n    if (autoCenter) {\n      watchId = navigator.geolocation.watchPosition(\n        handleSuccess,\n        handleError,\n        options\n      )\n    } else {\n      navigator.geolocation.getCurrentPosition(\n        handleSuccess,\n        handleError,\n        options\n      )\n    }\n\n    return () => {\n      if (watchId) {\n        navigator.geolocation.clearWatch(watchId)\n      }\n    }\n  }, [autoCenter, initialLocation])\n\n  if (error) {\n    return (\n      <div\n        style={{ height }}\n        className=\"flex items-center justify-center bg-gray-900 rounded-lg\"\n      >\n        <div className=\"text-red-400\">{error}</div>\n      </div>\n    )\n  }\n\n  if (!location) {\n    return (\n      <div\n        style={{ height }}\n        className=\"flex items-center justify-center bg-gray-900 rounded-lg\"\n      >\n        <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-current\" />\n      </div>\n    )\n  }\n\n  return (\n    <DynamicMap\n      height={height}\n      onLocationUpdate={setLocation}\n      showAccuracyCircle={showAccuracyCircle}\n      autoCenter={autoCenter}\n      zoom={15}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAae,SAAS,gBAAgB,EACtC,SAAS,OAAO,EAChB,qBAAqB,IAAI,EACzB,aAAa,IAAI,EACjB,eAAe,EACM;;IACrB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA0B,mBAAmB;IACpF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,iBAAiB;gBACnB,YAAY;gBACZ,QAAO,sDAAsD;YAC/D;YAEA,IAAI,CAAC,UAAU,WAAW,EAAE;gBAC1B,SAAS;gBACT;YACF;YAEA,IAAI;YAEJ,MAAM;2DAAgB,CAAC;oBACrB,YAAY;wBACV,UAAU,SAAS,MAAM,CAAC,QAAQ;wBAClC,WAAW,SAAS,MAAM,CAAC,SAAS;wBACpC,UAAU,SAAS,MAAM,CAAC,QAAQ;wBAClC,UAAU,SAAS,MAAM,CAAC,QAAQ;wBAClC,OAAO,SAAS,MAAM,CAAC,KAAK;wBAC5B,SAAS,SAAS,MAAM,CAAC,OAAO;wBAChC,WAAW,SAAS,SAAS;oBAC/B;oBACA,SAAS;gBACX;;YAEA,MAAM;yDAAc,CAAC;oBACnB,QAAQ,KAAK,CAAC,2BAA2B;oBACzC,SAAS;gBACX;;YAEA,MAAM,UAAU;gBACd,oBAAoB;gBACpB,SAAS;gBACT,YAAY;YACd;YAEA,IAAI,YAAY;gBACd,UAAU,UAAU,WAAW,CAAC,aAAa,CAC3C,eACA,aACA;YAEJ,OAAO;gBACL,UAAU,WAAW,CAAC,kBAAkB,CACtC,eACA,aACA;YAEJ;YAEA;6CAAO;oBACL,IAAI,SAAS;wBACX,UAAU,WAAW,CAAC,UAAU,CAAC;oBACnC;gBACF;;QACF;oCAAG;QAAC;QAAY;KAAgB;IAEhC,IAAI,OAAO;QACT,qBACE,6LAAC;YACC,OAAO;gBAAE;YAAO;YAChB,WAAU;sBAEV,cAAA,6LAAC;gBAAI,WAAU;0BAAgB;;;;;;;;;;;IAGrC;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,6LAAC;YACC,OAAO;gBAAE;YAAO;YAChB,WAAU;sBAEV,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,6LAAC,8IAAA,CAAA,aAAU;QACT,QAAQ;QACR,kBAAkB;QAClB,oBAAoB;QACpB,YAAY;QACZ,MAAM;;;;;;AAGZ;GAlGwB;KAAA","debugId":null}}]
}