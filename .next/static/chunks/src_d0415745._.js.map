{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/dashboard/stat-card.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\n\ninterface StatCardProps {\n  title: string\n  value: string | number\n  description?: string\n  icon?: string\n  trend?: {\n    value: number\n    isPositive: boolean\n  }\n}\n\nexport function StatCard({ title, value, description, icon, trend }: StatCardProps) {\n  return (\n    <Card className=\"bg-white dark:bg-gray-800 hover:shadow-lg transition-shadow\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n        <CardTitle className=\"text-sm font-medium\">\n          {title}\n        </CardTitle>\n        {icon && (\n          <div className=\"text-2xl opacity-80\">\n            {icon}\n          </div>\n        )}\n      </CardHeader>\n      <CardContent>\n        <div className=\"text-2xl font-bold\">\n          {value}\n        </div>\n        {description && (\n          <p className=\"text-xs text-muted-foreground mt-1\">\n            {description}\n          </p>\n        )}\n        {trend && (\n          <div className={`flex items-center text-xs mt-2 \n            ${trend.isPositive ? \"text-green-500\" : \"text-red-500\"}`}\n          >\n            <span className=\"mr-1\">\n              {trend.isPositive ? \"↑\" : \"↓\"}\n            </span>\n            <span>\n              {trend.value}% vs. anterior\n            </span>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\nexport function StatCardSkeleton() {\n  return (\n    <Card className=\"bg-white dark:bg-gray-800\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n        <div className=\"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"h-8 w-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse mb-2\"></div>\n        <div className=\"h-3 w-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\"></div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAaO,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAiB;IAChF,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,6LAAC,mIAAA,CAAA,YAAS;wBAAC,WAAU;kCAClB;;;;;;oBAEF,sBACC,6LAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;0BAIP,6LAAC,mIAAA,CAAA,cAAW;;kCACV,6LAAC;wBAAI,WAAU;kCACZ;;;;;;oBAEF,6BACC,6LAAC;wBAAE,WAAU;kCACV;;;;;;oBAGJ,uBACC,6LAAC;wBAAI,WAAW,CAAC;YACf,EAAE,MAAM,UAAU,GAAG,mBAAmB,gBAAgB;;0CAExD,6LAAC;gCAAK,WAAU;0CACb,MAAM,UAAU,GAAG,MAAM;;;;;;0CAE5B,6LAAC;;oCACE,MAAM,KAAK;oCAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAO3B;KArCgB;AAuCT,SAAS;IACd,qBACE,6LAAC,mIAAA,CAAA,OAAI;QAAC,WAAU;;0BACd,6LAAC,mIAAA,CAAA,aAAU;gBAAC,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAEjB,6LAAC,mIAAA,CAAA,cAAW;;kCACV,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB;MAZgB","debugId":null}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/map/dynamic-map.tsx"],"sourcesContent":["\"use client\"\n\nimport dynamic from 'next/dynamic'\nimport { type ComponentProps } from 'react'\n\nconst MapComponent = dynamic(\n  () => import('./map-component'),\n  { \n    ssr: false,\n    loading: () => (\n      <div className=\"animate-pulse bg-gray-800/50 rounded-lg border border-border shadow-sm\" \n           style={{ height: '400px' }}>\n        <div className=\"h-full w-full flex items-center justify-center text-muted-foreground\">\n          Cargando mapa...\n        </div>\n      </div>\n    )\n  }\n)\n\nexport function DynamicMap(props: ComponentProps<typeof MapComponent>) {\n  return <MapComponent {...props} />\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;;AAKA,MAAM,eAAe,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EACzB;;;;;;IAEE,KAAK;IACL,SAAS,kBACP,6LAAC;YAAI,WAAU;YACV,OAAO;gBAAE,QAAQ;YAAQ;sBAC5B,cAAA,6LAAC;gBAAI,WAAU;0BAAuE;;;;;;;;;;;;KAPxF;AAeC,SAAS,WAAW,KAA0C;IACnE,qBAAO,6LAAC;QAAc,GAAG,KAAK;;;;;;AAChC;MAFgB","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/map/live-location-map.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { DynamicMap } from \"./dynamic-map\"\nimport { type GeolocationData } from \"@/lib/services/geo-service\"\n\ninterface LiveLocationMapProps {\n  height?: string\n  showAccuracyCircle?: boolean\n  autoCenter?: boolean\n  initialLocation?: GeolocationData\n}\n\nexport default function LiveLocationMap({\n  height = \"400px\",\n  showAccuracyCircle = true,\n  autoCenter = true,\n  initialLocation\n}: LiveLocationMapProps) {\n  const [location, setLocation] = useState<GeolocationData | null>(initialLocation || null)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (initialLocation) {\n      setLocation(initialLocation)\n      return // No iniciar geolocalización si hay ubicación inicial\n    }\n\n    if (!navigator.geolocation) {\n      setError(\"Geolocalización no soportada\")\n      return\n    }\n\n    let watchId: number | undefined\n\n    const handleSuccess = (position: GeolocationPosition) => {\n      setLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        altitude: position.coords.altitude,\n        speed: position.coords.speed,\n        heading: position.coords.heading,\n        timestamp: position.timestamp\n      })\n      setError(null)\n    }\n\n    const handleError = (error: GeolocationPositionError) => {\n      console.error(\"Error getting location:\", error)\n      setError(\"Error al obtener ubicación\")\n    }\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    }\n\n    if (autoCenter) {\n      watchId = navigator.geolocation.watchPosition(\n        handleSuccess,\n        handleError,\n        options\n      )\n    } else {\n      navigator.geolocation.getCurrentPosition(\n        handleSuccess,\n        handleError,\n        options\n      )\n    }\n\n    return () => {\n      if (watchId) {\n        navigator.geolocation.clearWatch(watchId)\n      }\n    }\n  }, [autoCenter, initialLocation])\n\n  if (error) {\n    return (\n      <div\n        style={{ height }}\n        className=\"flex items-center justify-center bg-gray-900 rounded-lg\"\n      >\n        <div className=\"text-red-400\">{error}</div>\n      </div>\n    )\n  }\n\n  if (!location) {\n    return (\n      <div\n        style={{ height }}\n        className=\"flex items-center justify-center bg-gray-900 rounded-lg\"\n      >\n        <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-current\" />\n      </div>\n    )\n  }\n\n  return (\n    <DynamicMap\n      height={height}\n      onLocationUpdate={setLocation}\n      showAccuracyCircle={showAccuracyCircle}\n      autoCenter={autoCenter}\n      zoom={15}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAae,SAAS,gBAAgB,EACtC,SAAS,OAAO,EAChB,qBAAqB,IAAI,EACzB,aAAa,IAAI,EACjB,eAAe,EACM;;IACrB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA0B,mBAAmB;IACpF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,iBAAiB;gBACnB,YAAY;gBACZ,QAAO,sDAAsD;YAC/D;YAEA,IAAI,CAAC,UAAU,WAAW,EAAE;gBAC1B,SAAS;gBACT;YACF;YAEA,IAAI;YAEJ,MAAM;2DAAgB,CAAC;oBACrB,YAAY;wBACV,UAAU,SAAS,MAAM,CAAC,QAAQ;wBAClC,WAAW,SAAS,MAAM,CAAC,SAAS;wBACpC,UAAU,SAAS,MAAM,CAAC,QAAQ;wBAClC,UAAU,SAAS,MAAM,CAAC,QAAQ;wBAClC,OAAO,SAAS,MAAM,CAAC,KAAK;wBAC5B,SAAS,SAAS,MAAM,CAAC,OAAO;wBAChC,WAAW,SAAS,SAAS;oBAC/B;oBACA,SAAS;gBACX;;YAEA,MAAM;yDAAc,CAAC;oBACnB,QAAQ,KAAK,CAAC,2BAA2B;oBACzC,SAAS;gBACX;;YAEA,MAAM,UAAU;gBACd,oBAAoB;gBACpB,SAAS;gBACT,YAAY;YACd;YAEA,IAAI,YAAY;gBACd,UAAU,UAAU,WAAW,CAAC,aAAa,CAC3C,eACA,aACA;YAEJ,OAAO;gBACL,UAAU,WAAW,CAAC,kBAAkB,CACtC,eACA,aACA;YAEJ;YAEA;6CAAO;oBACL,IAAI,SAAS;wBACX,UAAU,WAAW,CAAC,UAAU,CAAC;oBACnC;gBACF;;QACF;oCAAG;QAAC;QAAY;KAAgB;IAEhC,IAAI,OAAO;QACT,qBACE,6LAAC;YACC,OAAO;gBAAE;YAAO;YAChB,WAAU;sBAEV,cAAA,6LAAC;gBAAI,WAAU;0BAAgB;;;;;;;;;;;IAGrC;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,6LAAC;YACC,OAAO;gBAAE;YAAO;YAChB,WAAU;sBAEV,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,6LAAC,8IAAA,CAAA,aAAU;QACT,QAAQ;QACR,kBAAkB;QAClB,oBAAoB;QACpB,YAAY;QACZ,MAAM;;;;;;AAGZ;GAlGwB;KAAA","debugId":null}},
    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,qKAAA,CAAA,OAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,qKAAA,CAAA,UAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,qKAAA,CAAA,SAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,qKAAA,CAAA,QAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,qKAAA,CAAA,UAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkD;IACrD,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,qKAAA,CAAA,UAAuB;gBACtB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,qKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,mMAAA,CAAA,QAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;MAxBS;AA0BT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,qKAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,qKAAA,CAAA,cAA2B;QAC1B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 748, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/config/templates.ts"],"sourcesContent":["export interface Template {\n  title: string\n  subtitle: string\n  message: string\n  buttonText: string\n  bgColor: string\n  icon: string\n  description: string\n  urgencyLevel: \"high\" | \"medium\" | \"low\"\n  validityPeriod: string\n}\n\nexport const templates: Record<string, Template> = {\n  alerta_nacional: {\n    title: \"🚨 ALERTA DE EMERGENCIA NACIONAL\",\n    subtitle: \"Sistema Nacional de Alertas\",\n    message: \"Se ha detectado una amenaza crítica en tu zona. Por tu seguridad, necesitamos verificar tu ubicación inmediatamente para coordinar evacuación.\",\n    buttonText: \"Confirmar Ubicación\",\n    bgColor: \"from-red-900 to-gray-900\",\n    icon: \"🚨\",\n    description: \"Alerta de emergencia nacional\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"10 minutos\"\n  },\n  militar: {\n    title: \"🎖️ COMANDO CENTRAL\",\n    subtitle: \"Comunicación Militar Prioritaria\",\n    message: \"Personal militar: Se requiere verificación inmediata de posición para operativo en curso. Autorización: ALPHA-7.\",\n    buttonText: \"Verificar Posición\",\n    bgColor: \"from-green-900 to-gray-900\",\n    icon: \"🎖️\",\n    description: \"Comunicación militar\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"5 minutos\"\n  },\n  policial: {\n    title: \"👮 ALERTA POLICIAL\",\n    subtitle: \"Departamento de Investigaciones\",\n    message: \"Se ha detectado actividad sospechosa cerca de tu ubicación. Necesitamos verificar tu posición para garantizar tu seguridad.\",\n    buttonText: \"Compartir Ubicación\",\n    bgColor: \"from-blue-900 to-gray-900\",\n    icon: \"👮\",\n    description: \"Alerta policial\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"15 minutos\"\n  },\n  terrorismo: {\n    title: \"⚠️ ALERTA ANTITERRORISTA\",\n    subtitle: \"Centro de Control y Prevención\",\n    message: \"Se ha identificado una amenaza terrorista en tu área. Verifica tu ubicación inmediatamente para recibir instrucciones de seguridad.\",\n    buttonText: \"Verificar Zona\",\n    bgColor: \"from-yellow-900 to-gray-900\",\n    icon: \"⚠️\",\n    description: \"Alerta antiterrorista\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"7 minutos\"\n  },\n  inteligencia: {\n    title: \"🕵️ OPERACIÓN ENCUBIERTA\",\n    subtitle: \"Agencia de Inteligencia\",\n    message: \"Agente: Se requiere confirmación de posición para extracción inmediata. Código: DELTA-9.\",\n    buttonText: \"Confirmar Extracción\",\n    bgColor: \"from-purple-900 to-gray-900\",\n    icon: \"🕵️\",\n    description: \"Operación de inteligencia\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"3 minutos\"\n  },\n  nuclear: {\n    title: \"☢️ ALERTA RADIOLÓGICA\",\n    subtitle: \"Comisión de Seguridad Nuclear\",\n    message: \"Se han detectado niveles anormales de radiación. Necesitamos verificar tu ubicación para coordinar evacuación inmediata.\",\n    buttonText: \"Iniciar Evacuación\",\n    bgColor: \"from-orange-900 to-gray-900\",\n    icon: \"☢️\",\n    description: \"Alerta nuclear\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"20 minutos\"\n  },\n  diplomatico: {\n    title: \"🏛️ ASUNTOS DIPLOMÁTICOS\",\n    subtitle: \"Ministerio de Relaciones Exteriores\",\n    message: \"Personal diplomático: Situación de crisis internacional. Requiere verificación inmediata de ubicación para protocolo de seguridad.\",\n    buttonText: \"Verificar Protocolo\",\n    bgColor: \"from-teal-900 to-gray-900\",\n    icon: \"🏛️\",\n    description: \"Comunicación diplomática\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"12 minutos\"\n  },\n  defensa: {\n    title: \"🛡️ DEFENSA CIVIL\",\n    subtitle: \"Centro de Operaciones de Emergencia\",\n    message: \"Alerta de desastre inminente en tu zona. Verifica tu ubicación para recibir instrucciones de evacuación prioritaria.\",\n    buttonText: \"Recibir Instrucciones\",\n    bgColor: \"from-indigo-900 to-gray-900\",\n    icon: \"🛡️\",\n    description: \"Alerta de defensa civil\",\n    urgencyLevel: \"high\",\n    validityPeriod: \"25 minutos\"\n  }\n}\n\nexport const getTemplate = (type: string): Template => {\n  return templates[type] || templates.alerta_nacional\n}\n\nexport const getTemplateTypes = (): string[] => {\n  return Object.keys(templates)\n}\n\nexport const getTemplateIcon = (type: string): string => {\n  return templates[type]?.icon || \"🎯\"\n}\n\nexport const getTemplateBgColor = (type: string): string => {\n  return templates[type]?.bgColor || \"from-gray-900 to-black\"\n}\n\nexport const getTemplateUrgencyColor = (level: Template[\"urgencyLevel\"]): string => {\n  switch (level) {\n    case \"high\":\n      return \"text-red-500\"\n    case \"medium\":\n      return \"text-yellow-500\"\n    case \"low\":\n      return \"text-green-500\"\n    default:\n      return \"text-gray-500\"\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAYO,MAAM,YAAsC;IACjD,iBAAiB;QACf,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;IACA,SAAS;QACP,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;IACA,UAAU;QACR,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;IACA,YAAY;QACV,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;IACA,cAAc;QACZ,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;IACA,SAAS;QACP,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;IACA,aAAa;QACX,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;IACA,SAAS;QACP,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY;QACZ,SAAS;QACT,MAAM;QACN,aAAa;QACb,cAAc;QACd,gBAAgB;IAClB;AACF;AAEO,MAAM,cAAc,CAAC;IAC1B,OAAO,SAAS,CAAC,KAAK,IAAI,UAAU,eAAe;AACrD;AAEO,MAAM,mBAAmB;IAC9B,OAAO,OAAO,IAAI,CAAC;AACrB;AAEO,MAAM,kBAAkB,CAAC;IAC9B,OAAO,SAAS,CAAC,KAAK,EAAE,QAAQ;AAClC;AAEO,MAAM,qBAAqB,CAAC;IACjC,OAAO,SAAS,CAAC,KAAK,EAAE,WAAW;AACrC;AAEO,MAAM,0BAA0B,CAAC;IACtC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF","debugId":null}},
    {"offset": {"line": 879, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/tracking/create-link.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { type TrackingLink } from \"@/lib/db/schema\"\nimport { templates, getTemplateUrgencyColor, getTemplateBgColor } from \"@/config/templates\"\n\ninterface CreateLinkProps {\n  onLinkCreated?: (link: TrackingLink) => void\n}\n\nexport function CreateLinkButton({ onClick }: { onClick?: () => void }) {\n  return (\n    <Button\n      onClick={onClick}\n      className=\"bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900\"\n    >\n      <span className=\"mr-2\">🎯</span>\n      Crear Nuevo Enlace\n    </Button>\n  )\n}\n\nexport function CreateLink({ onLinkCreated }: CreateLinkProps) {\n  const [selectedTemplate, setSelectedTemplate] = useState<string | null>(null)\n  const [isCreating, setIsCreating] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const handleCreateLink = async (templateType: string) => {\n    try {\n      setIsCreating(true)\n      setError(null)\n      \n      const response = await fetch('/api/tracking-links', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ templateType })\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Error al crear el enlace')\n      }\n\n      if (onLinkCreated) {\n        onLinkCreated(data.link)\n      }\n      setSelectedTemplate(null)\n    } catch (err) {\n      console.error(\"Error al crear enlace:\", err)\n      setError(\"Error al crear el enlace. Por favor, intenta nuevamente.\")\n    } finally {\n      setIsCreating(false)\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {error && (\n        <div className=\"bg-red-500/10 border border-red-500/50 rounded-lg p-4 text-red-400\">\n          {error}\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto pr-4\">\n        {Object.entries(templates).map(([type, template]) => (\n          <Card\n            key={type}\n            className={`\n              relative overflow-hidden cursor-pointer transition-all duration-200\n              ${selectedTemplate === type \n                ? 'ring-2 ring-blue-500 bg-blue-950/30' \n                : 'hover:bg-gray-900/50 bg-black/40'}\n              backdrop-blur-sm border-gray-800\n            `}\n            onClick={() => setSelectedTemplate(type)}\n          >\n            <CardContent className=\"p-6\">\n              <div className=\"text-3xl mb-4\">\n                {template.icon}\n              </div>\n              <h3 className=\"text-lg font-semibold mb-2\">\n                {template.title}\n              </h3>\n              <p className=\"text-sm text-muted-foreground mb-4\">\n                {template.subtitle}\n              </p>\n\n              {/* Detalles de Urgencia y Validez */}\n              <div className=\"space-y-2 mb-4\">\n                <div className={`text-xs ${getTemplateUrgencyColor(template.urgencyLevel)}`}>\n                  {template.urgencyLevel === 'high' ? '⚠️ Alta Urgencia' : \n                   template.urgencyLevel === 'medium' ? '⚡ Urgencia Media' : \n                   '📝 Normal'}\n                </div>\n                <div className=\"text-xs text-yellow-400\">\n                  ⏱️ Válido por: {template.validityPeriod}\n                </div>\n              </div>\n\n              {/* Descripción de la plantilla */}\n              <div className=\"text-xs text-muted-foreground mb-4\">\n                {template.description}\n              </div>\n\n              {selectedTemplate === type && (\n                <Button\n                  className={`w-full bg-gradient-to-r ${getTemplateBgColor(type)} hover:opacity-90`}\n                  disabled={isCreating}\n                  onClick={(e) => {\n                    e.stopPropagation()\n                    handleCreateLink(type)\n                  }}\n                >\n                  {isCreating ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-current mr-2\" />\n                      Creando...\n                    </>\n                  ) : (\n                    <>\n                      <span className=\"mr-2\">{template.icon}</span>\n                      Usar Plantilla\n                    </>\n                  )}\n                </Button>\n              )}\n            </CardContent>\n\n            {/* Indicador de selección */}\n            {selectedTemplate === type && (\n              <div className=\"absolute top-2 right-2\">\n                <div className=\"bg-blue-500 text-white rounded-full p-1\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 20 20\"\n                    fill=\"currentColor\"\n                    className=\"w-4 h-4\"\n                  >\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                </div>\n              </div>\n            )}\n\n            {/* Etiqueta de urgencia */}\n            {template.urgencyLevel === 'high' && (\n              <div className=\"absolute top-2 left-2\">\n                <div className=\"bg-red-500 text-white text-xs px-2 py-1 rounded-full animate-pulse\">\n                  Urgente\n                </div>\n              </div>\n            )}\n          </Card>\n        ))}\n      </div>\n\n      <div className=\"text-center text-sm text-muted-foreground\">\n        <p>Selecciona una plantilla para crear un nuevo enlace de rastreo</p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/tracking/create-link-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\"\nimport { Button } from \"@/components/ui/button\"\nimport { CreateLink, CreateLinkButton } from \"./create-link\"\nimport { type TrackingLink } from \"@/lib/db/schema\"\n\nexport function CreateLinkDialog() {\n  const [isOpen, setIsOpen] = useState(false)\n  const [createdLink, setCreatedLink] = useState<TrackingLink | null>(null)\n  const [copiedType, setCopiedType] = useState<'masked' | 'tracking' | null>(null)\n\n  const generateMaskedUrl = (templateType: string, shortCode: string) => {\n    const baseUrl = window.location.origin\n    return `${baseUrl}/share/${shortCode}`\n  }\n\n  const generateTrackingUrl = (shortCode: string) => {\n    const baseUrl = window.location.origin\n    return `${baseUrl}/track/${shortCode}`\n  }\n\n  const handleCopy = async (text: string, type: 'masked' | 'tracking') => {\n    try {\n      await navigator.clipboard.writeText(text)\n      setCopiedType(type)\n      setTimeout(() => setCopiedType(null), 2000)\n    } catch (err) {\n      console.error(\"Error al copiar:\", err)\n    }\n  }\n\n  const handleShare = async (url: string, title: string) => {\n    try {\n      if (navigator.share) {\n        await navigator.share({\n          title: title,\n          text: \"Verifica tu ubicación\",\n          url: url\n        })\n      } else {\n        throw new Error(\"Compartir no soportado\")\n      }\n    } catch (err) {\n      console.error(\"Error al compartir:\", err)\n      // Si falla compartir, intentamos copiar al portapapeles\n      await navigator.clipboard.writeText(url)\n    }\n  }\n\n  const handleLinkCreated = (link: TrackingLink) => {\n    setCreatedLink(link)\n  }\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>\n        <CreateLinkButton />\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-[800px] max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>\n            {createdLink ? (\n              <>\n                <span className=\"mr-2\">✨</span>\n                Enlace Creado Exitosamente\n              </>\n            ) : (\n              <>\n                <span className=\"mr-2\">🎯</span>\n                Crear Nuevo Enlace de Rastreo\n              </>\n            )}\n          </DialogTitle>\n        </DialogHeader>\n\n        {createdLink ? (\n          <div className=\"space-y-6\">\n            {/* URL Enmascarada */}\n            <div className=\"space-y-2\">\n              <div className=\"text-sm font-medium\">URL Enmascarada</div>\n              <div className=\"flex items-center gap-2\">\n                <code className=\"flex-1 p-2 rounded bg-gray-900/50 text-sm break-all\">\n                  {generateMaskedUrl(createdLink.templateType, createdLink.shortCode)}\n                </code>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handleCopy(\n                    generateMaskedUrl(createdLink.templateType, createdLink.shortCode),\n                    'masked'\n                  )}\n                >\n                  {copiedType === 'masked' ? (\n                    <span className=\"text-green-500\">✓ Copiado</span>\n                  ) : (\n                    <>\n                      <span className=\"mr-2\">📋</span>\n                      Copiar\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n\n            {/* URL de Rastreo */}\n            <div className=\"space-y-2\">\n              <div className=\"text-sm font-medium\">URL de Rastreo</div>\n              <div className=\"flex items-center gap-2\">\n                <code className=\"flex-1 p-2 rounded bg-gray-900/50 text-sm break-all\">\n                  {generateTrackingUrl(createdLink.shortCode)}\n                </code>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handleCopy(\n                    generateTrackingUrl(createdLink.shortCode),\n                    'tracking'\n                  )}\n                >\n                  {copiedType === 'tracking' ? (\n                    <span className=\"text-green-500\">✓ Copiado</span>\n                  ) : (\n                    <>\n                      <span className=\"mr-2\">📋</span>\n                      Copiar\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n\n            {/* Botones de Compartir */}\n            <div className=\"flex flex-wrap gap-2\">\n              <Button\n                variant=\"outline\"\n                onClick={() => handleShare(\n                  generateMaskedUrl(createdLink.templateType, createdLink.shortCode),\n                  \"Verificación de Ubicación\"\n                )}\n              >\n                <span className=\"mr-2\">📱</span>\n                Compartir\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={() => window.open(\n                  `https://wa.me/?text=${encodeURIComponent(\n                    generateMaskedUrl(createdLink.templateType, createdLink.shortCode)\n                  )}`,\n                  '_blank'\n                )}\n              >\n                <span className=\"mr-2\">💬</span>\n                WhatsApp\n              </Button>\n              <Button\n                variant=\"outline\"\n                onClick={() => window.open(\n                  `https://t.me/share/url?url=${encodeURIComponent(\n                    generateMaskedUrl(createdLink.templateType, createdLink.shortCode)\n                  )}`,\n                  '_blank'\n                )}\n              >\n                <span className=\"mr-2\">✈️</span>\n                Telegram\n              </Button>\n            </div>\n\n            {/* Crear Otro Enlace */}\n            <div className=\"flex justify-end\">\n              <Button\n                variant=\"default\"\n                onClick={() => setCreatedLink(null)}\n              >\n                <span className=\"mr-2\">➕</span>\n                Crear Otro Enlace\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <CreateLink onLinkCreated={handleLinkCreated} />\n        )}\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1542, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/services/geo-service.ts"],"sourcesContent":["export interface GeolocationData {\n  latitude: number\n  longitude: number\n  accuracy: number\n  altitude: number | null\n  speed: number | null\n  heading: number | null\n  timestamp: number\n}\n\nexport interface GeolocationOptions {\n  enableHighAccuracy?: boolean\n  timeout?: number\n  maximumAge?: number\n  watchPosition?: boolean\n}\n\nexport interface LocationError {\n  code: number\n  message: string\n  type: 'permission' | 'position' | 'timeout' | 'unsupported' | 'unknown'\n}\n\nexport interface DeviceInfo {\n  userAgent: string\n  platform: string\n  language: string\n  screenResolution: string\n  timezone: string\n  fingerprint: string\n}\n\nexport interface IPInfo {\n  ip: string\n  country?: string\n  city?: string\n  latitude?: number\n  longitude?: number\n}\n\nexport class GeoService {\n  private static watchId: number | null = null\n\n  static async getCurrentPosition(options: GeolocationOptions = {}): Promise<GeolocationData> {\n    if (!navigator.geolocation) {\n      throw this.createError({\n        code: 0,\n        message: \"Geolocalización no soportada en este navegador\",\n        type: 'unsupported'\n      })\n    }\n\n    // Forzar máxima precisión\n    const defaultOptions: PositionOptions = {\n      enableHighAccuracy: true,  // Usar GPS en lugar de WiFi/Cell\n      timeout: 30000,           // Esperar más tiempo para mejor precisión\n      maximumAge: 0,           // Siempre obtener posición nueva\n      ...options\n    }\n\n    try {\n      // Intentar obtener ubicación por GPS primero\n      const position = await new Promise<GeolocationPosition>((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resolve, reject, defaultOptions)\n      })\n\n      // Obtener datos adicionales de precisión\n      const locationData = this.formatPosition(position)\n\n      // Retornar solo la ubicación real con máxima precisión\n      return locationData\n    } catch (error: any) {\n      throw this.handleGeolocationError(error)\n    }\n  }\n\n  static watchPosition(\n    onSuccess: (position: GeolocationData) => void,\n    onError: (error: LocationError) => void,\n    options: GeolocationOptions = {}\n  ): () => void {\n    if (!navigator.geolocation) {\n      onError(this.createError({\n        code: 0,\n        message: \"Geolocalización no soportada\",\n        type: 'unsupported'\n      }))\n      return () => {}\n    }\n\n    const defaultOptions: PositionOptions = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0,\n      ...options\n    }\n\n    this.watchId = navigator.geolocation.watchPosition(\n      (position) => {\n        try {\n          const formattedPosition = this.formatPosition(position)\n          onSuccess(formattedPosition)\n        } catch (error: any) {\n          onError(this.handleGeolocationError(error))\n        }\n      },\n      (error) => {\n        onError(this.handleGeolocationError(error))\n      },\n      defaultOptions\n    )\n\n    return () => {\n      if (this.watchId !== null) {\n        navigator.geolocation.clearWatch(this.watchId)\n        this.watchId = null\n      }\n    }\n  }\n\n  static getDeviceInfo(): DeviceInfo {\n    return {\n      userAgent: navigator.userAgent,\n      platform: navigator.platform,\n      language: navigator.language,\n      screenResolution: `${window.screen.width}x${window.screen.height}`,\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      fingerprint: this.generateFingerprint()\n    }\n  }\n\n  static async getIPInfo(): Promise<IPInfo> {\n    try {\n      const response = await fetch('https://ipapi.co/json/')\n      if (!response.ok) throw new Error('Error al obtener información IP')\n      \n      const data = await response.json()\n      return {\n        ip: data.ip,\n        country: data.country_name,\n        city: data.city,\n        latitude: data.latitude,\n        longitude: data.longitude\n      }\n    } catch (error) {\n      console.error('Error obteniendo información IP:', error)\n      return { ip: 'desconocida' }\n    }\n  }\n\n  static async getLocationDetails(latitude: number, longitude: number): Promise<{\n    country: string\n    city: string\n    address: string\n  }> {\n    try {\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&zoom=18&addressdetails=1`\n      )\n      \n      if (!response.ok) {\n        throw new Error('Error al obtener detalles de ubicación')\n      }\n\n      const data = await response.json()\n      \n      return {\n        country: data.address.country || 'Desconocido',\n        city: data.address.city || data.address.town || data.address.village || 'Desconocido',\n        address: data.display_name || 'Dirección no disponible'\n      }\n    } catch (error) {\n      console.error('Error obteniendo detalles de ubicación:', error)\n      return {\n        country: 'Desconocido',\n        city: 'Desconocido',\n        address: 'Dirección no disponible'\n      }\n    }\n  }\n\n  private static formatPosition(position: GeolocationPosition): GeolocationData {\n    return {\n      latitude: position.coords.latitude,\n      longitude: position.coords.longitude,\n      accuracy: position.coords.accuracy,\n      altitude: position.coords.altitude,\n      speed: position.coords.speed,\n      heading: position.coords.heading,\n      timestamp: position.timestamp\n    }\n  }\n\n  private static handleGeolocationError(error: GeolocationPositionError): LocationError {\n    let type: LocationError['type'] = 'unknown'\n    let message = 'Error desconocido al obtener ubicación'\n\n    switch (error.code) {\n      case 1:\n        type = 'permission'\n        message = 'Acceso a la ubicación denegado. Por favor, permite el acceso a tu ubicación en la configuración del navegador.'\n        break\n      case 2:\n        type = 'position'\n        message = 'No se pudo determinar tu ubicación. Verifica tu conexión GPS y a internet.'\n        break\n      case 3:\n        type = 'timeout'\n        message = 'Tiempo de espera agotado al intentar obtener la ubicación.'\n        break\n    }\n\n    return this.createError({ code: error.code, message, type })\n  }\n\n  private static createError({ code, message, type }: {\n    code: number\n    message: string\n    type: LocationError['type']\n  }): LocationError {\n    return { code, message, type }\n  }\n\n  private static generateFingerprint(): string {\n    const components = [\n      navigator.userAgent,\n      navigator.language,\n      new Date().getTimezoneOffset(),\n      navigator.hardwareConcurrency || 'unknown',\n      window.screen.colorDepth,\n      window.screen.pixelDepth,\n      window.screen.width,\n      window.screen.height,\n      navigator.vendor,\n      navigator.platform,\n      \"canvas:\" + this.getCanvasFingerprint()\n    ]\n\n    return components.join('|')\n  }\n\n  private static getCanvasFingerprint(): string {\n    try {\n      const canvas = document.createElement('canvas')\n      const ctx = canvas.getContext('2d')\n      if (!ctx) return 'no-canvas'\n\n      canvas.width = 200\n      canvas.height = 50\n      \n      ctx.textBaseline = 'top'\n      ctx.font = '14px Arial'\n      ctx.fillStyle = '#f60'\n      ctx.fillRect(125, 1, 62, 20)\n      \n      ctx.fillStyle = '#069'\n      ctx.fillText('GeoTracker:2024', 2, 15)\n      ctx.fillStyle = 'rgba(102, 204, 0, 0.7)'\n      ctx.fillText('Location:Verified', 4, 17)\n\n      return canvas.toDataURL()\n    } catch (e) {\n      return 'canvas-error'\n    }\n  }\n\n  static getAccuracyDescription(accuracy: number): string {\n    if (accuracy <= 10) return \"Excelente (GPS)\"\n    if (accuracy <= 30) return \"Buena\"\n    if (accuracy <= 100) return \"Moderada\"\n    if (accuracy <= 500) return \"Baja\"\n    return \"Muy baja\"\n  }\n\n  static getAccuracyColor(accuracy: number): string {\n    if (accuracy <= 10) return \"text-green-500\"\n    if (accuracy <= 30) return \"text-blue-500\"\n    if (accuracy <= 100) return \"text-yellow-500\"\n    if (accuracy <= 500) return \"text-orange-500\"\n    return \"text-red-500\"\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1758, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/services/tracking-service.ts"],"sourcesContent":["import { GeoService, type GeolocationData } from \"./geo-service\"\n\ndeclare global {\n  interface Navigator {\n    deviceMemory?: number;\n    connection?: {\n      type?: string;\n      effectiveType?: string;\n    };\n    getBattery?: () => Promise<{\n      level: number;\n    }>;\n  }\n}\n\ninterface DeviceInfo {\n  userAgent: string\n  platform: string\n  screenResolution: string\n  ipAddress: string\n  ipCountry: string | null\n  ipCity: string | null\n  browserInfo: string\n  deviceFingerprint: string\n  networkType: string\n  batteryLevel?: number\n  deviceMemory?: number\n  hardwareConcurrency: number\n  language: string\n  timezone: string\n  vendor: string\n}\n\nexport interface TrackingLink {\n  id: string\n  shortCode: string\n  templateType: string\n  isActive: boolean\n  clicks: number\n  captures: number\n  createdAt: string\n  expiresAt: string\n}\n\nexport interface LocationCapture {\n  id: string\n  linkId: string\n  latitude: number\n  longitude: number\n  accuracy: number\n  altitude: number | null\n  speed: number | null\n  heading: number | null\n  city: string | null\n  country: string | null\n  address: string | null\n  capturedAt: string\n  deviceInfo: DeviceInfo\n}\n\ninterface IPInfo {\n  ip: string\n  country: string | null\n  city: string | null\n  latitude?: number\n  longitude?: number\n}\n\nexport class TrackingService {\n  private static readonly STORAGE_KEY = 'tracking_data'\n  private static readonly API_BASE = \"/api\"\n  private static readonly MAX_RETRIES = 3\n  private static readonly RETRY_DELAY = 1000 // 1 second\n\n  private static async getIPInfo(): Promise<IPInfo> {\n    try {\n      const services = [\n        {\n          url: 'https://ipapi.co/json/',\n          transform: (data: any): IPInfo => ({\n            ip: data.ip,\n            country: data.country_name,\n            city: data.city,\n            latitude: data.latitude,\n            longitude: data.longitude\n          })\n        },\n        {\n          url: 'https://ipinfo.io/json',\n          transform: (data: any): IPInfo => ({\n            ip: data.ip,\n            country: data.country,\n            city: data.city,\n            latitude: data.loc ? parseFloat(data.loc.split(',')[0]) : undefined,\n            longitude: data.loc ? parseFloat(data.loc.split(',')[1]) : undefined\n          })\n        }\n      ]\n\n      for (const service of services) {\n        for (let attempt = 0; attempt < this.MAX_RETRIES; attempt++) {\n          try {\n            const response = await fetch(service.url)\n            if (response.ok) {\n              const data = await response.json()\n              return service.transform(data)\n            }\n          } catch (e) {\n            if (attempt === this.MAX_RETRIES - 1) continue\n            await new Promise(resolve => setTimeout(resolve, this.RETRY_DELAY * (attempt + 1)))\n          }\n        }\n      }\n\n      return {\n        ip: await this.getFallbackIP(),\n        country: null,\n        city: null\n      }\n    } catch (error) {\n      console.error('Error getting IP information:', error)\n      return {\n        ip: await this.getFallbackIP(),\n        country: null,\n        city: null\n      }\n    }\n  }\n\n  private static async getFallbackIP(): Promise<string> {\n    try {\n      const response = await fetch('https://api64.ipify.org?format=json')\n      const data = await response.json()\n      return data.ip\n    } catch {\n      return 'unknown'\n    }\n  }\n\n  private static async getDeviceInfo(): Promise<DeviceInfo> {\n    const baseInfo: DeviceInfo = {\n      userAgent: navigator.userAgent,\n      platform: navigator.platform,\n      screenResolution: `${window.screen.width}x${window.screen.height}`,\n      ipAddress: \"0.0.0.0\",\n      ipCountry: null,\n      ipCity: null,\n      browserInfo: this.getBrowserInfo(),\n      deviceFingerprint: await this.generateDeviceFingerprint(),\n      networkType: \"unknown\",\n      hardwareConcurrency: navigator.hardwareConcurrency,\n      language: navigator.language,\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      vendor: navigator.vendor\n    }\n\n    try {\n      const connection = (navigator as any).connection\n      if (connection) {\n        baseInfo.networkType = connection.type || \"unknown\"\n      }\n\n      const battery = await (navigator as any).getBattery?.()\n      if (battery) {\n        baseInfo.batteryLevel = Math.round(battery.level * 100)\n      }\n\n      if ((navigator as any).deviceMemory) {\n        baseInfo.deviceMemory = (navigator as any).deviceMemory\n      }\n    } catch (e) {\n      console.warn(\"Some device APIs not available:\", e)\n    }\n\n    return baseInfo\n  }\n\n  private static getBrowserInfo(): string {\n    const ua = navigator.userAgent\n    const browserRegex = /(chrome|safari|firefox|edge|opera|ie)\\/([\\d.]+)/i\n    const match = ua.match(browserRegex)\n    return match \n      ? `${match[1].charAt(0).toUpperCase() + match[1].slice(1)} ${match[2]}`\n      : \"Unknown Browser\"\n  }\n\n  private static async generateDeviceFingerprint(): Promise<string> {\n    const components = [\n      navigator.userAgent,\n      navigator.language,\n      new Date().getTimezoneOffset(),\n      screen.width,\n      screen.height,\n      screen.colorDepth,\n      navigator.hardwareConcurrency,\n      navigator.platform,\n      (navigator as any).deviceMemory,\n      (navigator as any).connection?.type\n    ]\n    \n    const fingerprint = components.join('|')\n    const encoder = new TextEncoder()\n    const data = encoder.encode(fingerprint)\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data)\n    const hashArray = Array.from(new Uint8Array(hashBuffer))\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n  }\n\n  private static async getStoredData(): Promise<{\n    links: TrackingLink[]\n    captures: LocationCapture[]\n  }> {\n    try {\n      const data = localStorage.getItem(this.STORAGE_KEY)\n      if (data) {\n        return JSON.parse(data)\n      }\n    } catch (error) {\n      console.error(\"Error reading stored data:\", error)\n    }\n    return { links: [], captures: [] }\n  }\n\n  private static async saveData(data: { links: TrackingLink[], captures: LocationCapture[] }): Promise<void> {\n    try {\n      localStorage.setItem(this.STORAGE_KEY, JSON.stringify(data))\n    } catch (error) {\n      console.error(\"Error saving data:\", error)\n    }\n  }\n\n  static async createTrackingLink(templateType: string): Promise<TrackingLink> {\n    try {\n      const response = await fetch(`${this.API_BASE}/tracking-links`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ templateType })\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Failed to create tracking link: Server returned an error\")\n      }\n\n      const newLink = await response.json()\n      const data = await this.getStoredData()\n      data.links.push(newLink)\n      await this.saveData(data)\n\n      return newLink\n    } catch (error) {\n      console.error(\"Error creating tracking link:\", error)\n      throw error\n    }\n  }\n\n  static async getTrackingLinks(): Promise<TrackingLink[]> {\n    try {\n      const data = await this.getStoredData()\n      return data.links\n    } catch (error) {\n      console.error(\"Error fetching tracking links:\", error)\n      throw error\n    }\n  }\n\n  static async getLocationCaptures(): Promise<LocationCapture[]> {\n    try {\n      const data = await this.getStoredData()\n      return data.captures\n    } catch (error) {\n      console.error(\"Error fetching location captures:\", error)\n      throw error\n    }\n  }\n\n  static async captureLocation(linkId: string, shortCode: string): Promise<LocationCapture> {\n    try {\n      // Try to get high-precision GPS location\n      const position = await GeoService.getCurrentPosition({\n        enableHighAccuracy: true,\n        timeout: 30000,\n        maximumAge: 0\n      })\n\n      // Get device information and location details\n      const [deviceInfo, locationDetails, ipInfo] = await Promise.all([\n        this.getDeviceInfo(),\n        GeoService.getLocationDetails(position.latitude, position.longitude),\n        this.getIPInfo()\n      ])\n\n      // Create capture with all available data\n      const capture: LocationCapture = {\n        id: `capture-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n        linkId,\n        latitude: position.latitude,\n        longitude: position.longitude,\n        accuracy: position.accuracy,\n        altitude: position.altitude,\n        speed: position.speed,\n        heading: position.heading,\n        city: locationDetails.city || null,\n        country: locationDetails.country || null,\n        address: locationDetails.address || null,\n        capturedAt: new Date().toISOString(),\n        deviceInfo: {\n          ...deviceInfo,\n          ipAddress: ipInfo.ip,\n          ipCountry: ipInfo.country,\n          ipCity: ipInfo.city\n        }\n      }\n\n      // Send data to server\n      const response = await fetch(`${this.API_BASE}/tracking-captures`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(capture)\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to save capture data')\n      }\n\n      // Save to local storage\n      const data = await this.getStoredData()\n      data.captures.push(capture)\n      \n      // Update tracking link statistics\n      const linkIndex = data.links.findIndex(l => l.id === linkId)\n      if (linkIndex !== -1) {\n        data.links[linkIndex].captures++\n      }\n      \n      await this.saveData(data)\n      return capture\n    } catch (error) {\n      console.error(\"Error capturing location:\", error)\n      throw error\n    }\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2023, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/tracking/location-tracker.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport LiveLocationMap from \"@/components/map/live-location-map\"\nimport { TrackingService } from \"@/lib/services/tracking-service\"\nimport { type GeolocationData } from \"@/lib/services/geo-service\"\n\ninterface LocationTrackerProps {\n  linkId?: string\n  shortCode?: string\n  onLocationCaptured?: () => void\n}\n\nexport default function LocationTracker({ linkId, shortCode, onLocationCaptured }: LocationTrackerProps) {\n  const [isCapturing, setIsCapturing] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [location, setLocation] = useState<GeolocationData | null>(null)\n\n  const handleCapture = async () => {\n    try {\n      setIsCapturing(true)\n      setError(null)\n\n      // Obtener ubicación\n      const position = await getCurrentPosition()\n      const locationData: GeolocationData = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        altitude: position.coords.altitude,\n        speed: position.coords.speed,\n        heading: position.coords.heading,\n        timestamp: position.timestamp\n      }\n\n      setLocation(locationData)\n\n      // Enviar datos al servidor solo si tenemos linkId y shortCode\n      if (linkId && shortCode) {\n        await TrackingService.captureLocation(linkId, shortCode)\n      }\n\n      if (onLocationCaptured) {\n        onLocationCaptured()\n      }\n    } catch (err) {\n      console.error(\"Error capturing location:\", err)\n      setError(getErrorMessage(err))\n    } finally {\n      setIsCapturing(false)\n    }\n  }\n\n  return (\n    <Card className=\"bg-black/40 backdrop-blur-sm border-gray-800\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <span>📍</span>\n          <span>Verificación de Ubicación</span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {error ? (\n          <div className=\"bg-red-500/10 border border-red-500/50 rounded-lg p-4 text-red-400\">\n            {error}\n          </div>\n        ) : location ? (\n          <>\n            <div className=\"h-[300px] rounded-lg overflow-hidden\">\n              <LiveLocationMap\n                height=\"300px\"\n                showAccuracyCircle={true}\n                initialLocation={location}\n              />\n            </div>\n            <div className=\"text-center text-green-400\">\n              ✓ Ubicación capturada exitosamente\n            </div>\n          </>\n        ) : (\n          <div className=\"text-center space-y-4\">\n            <p className=\"text-muted-foreground\">\n              Para continuar, necesitamos verificar tu ubicación actual.\n            </p>\n            <Button\n              onClick={handleCapture}\n              disabled={isCapturing}\n              className=\"bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900\"\n            >\n              {isCapturing ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-current mr-2\" />\n                  Obteniendo ubicación...\n                </>\n              ) : (\n                <>\n                  <span className=\"mr-2\">📍</span>\n                  Verificar Ubicación\n                </>\n              )}\n            </Button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\n// Funciones auxiliares\nasync function getCurrentPosition(): Promise<GeolocationPosition> {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) {\n      reject(new Error(\"Geolocalización no soportada\"))\n      return\n    }\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      resolve,\n      (error) => {\n        reject(new Error(getGeolocationErrorMessage(error)))\n      },\n      options\n    )\n  })\n}\n\nfunction getGeolocationErrorMessage(error: GeolocationPositionError): string {\n  switch (error.code) {\n    case error.PERMISSION_DENIED:\n      return \"Acceso a la ubicación denegado. Por favor, permite el acceso a tu ubicación.\"\n    case error.POSITION_UNAVAILABLE:\n      return \"No se pudo obtener tu ubicación. Por favor, verifica que los servicios de ubicación estén activados.\"\n    case error.TIMEOUT:\n      return \"Se agotó el tiempo para obtener tu ubicación. Por favor, intenta nuevamente.\"\n    default:\n      return \"Error al obtener la ubicación.\"\n  }\n}\n\nfunction getErrorMessage(error: unknown): string {\n  if (error instanceof Error) {\n    return error.message\n  }\n  return \"Error desconocido al capturar la ubicación\"\n}\n\nexport { LocationTracker }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2255, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { StatCard } from \"@/components/dashboard/stat-card\"\nimport LiveLocationMap from \"@/components/map/live-location-map\"\nimport { CreateLinkDialog } from \"@/components/tracking/create-link-dialog\"\nimport { LocationTracker } from \"@/components/tracking/location-tracker\"\n\ninterface DashboardStats {\n  activeOperations: number\n  suspiciousActivities: number\n  monitoredAreas: number\n  threatLevel: number\n}\n\nexport default function Dashboard() {\n  const [stats, setStats] = useState<DashboardStats>({\n    activeOperations: 0,\n    suspiciousActivities: 0,\n    monitoredAreas: 0,\n    threatLevel: 0\n  })\n\n  useEffect(() => {\n    // Simulamos datos para demostración\n    setStats({\n      activeOperations: 24,\n      suspiciousActivities: 8,\n      monitoredAreas: 15,\n      threatLevel: 42\n    })\n  }, [])\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"flex flex-col items-center mb-8 space-y-4\">\n        <h1 className=\"text-4xl font-bold mb-2\">Centro de Control y Monitoreo</h1>\n        <p className=\"text-muted-foreground text-center max-w-2xl\">\n          Sistema avanzado de rastreo y monitorización para operaciones de seguridad nacional y prevención de amenazas\n        </p>\n        <CreateLinkDialog />\n      </div>\n\n      {/* Estadísticas Principales */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        <StatCard\n          title=\"Operaciones Activas\"\n          value={stats.activeOperations}\n          description=\"Operaciones de monitoreo en curso\"\n          icon=\"🎯\"\n          trend={{ value: 15, isPositive: true }}\n        />\n        <StatCard\n          title=\"Actividades Sospechosas\"\n          value={stats.suspiciousActivities}\n          description=\"Detectadas en las últimas 24h\"\n          icon=\"⚠️\"\n          trend={{ value: 12, isPositive: false }}\n        />\n        <StatCard\n          title=\"Áreas Monitoreadas\"\n          value={stats.monitoredAreas}\n          description=\"Zonas bajo vigilancia activa\"\n          icon=\"🌍\"\n          trend={{ value: 5, isPositive: true }}\n        />\n        <StatCard\n          title=\"Nivel de Amenaza\"\n          value={`${stats.threatLevel}%`}\n          description=\"Índice de riesgo actual\"\n          icon=\"📊\"\n          trend={{ value: 8, isPositive: false }}\n        />\n      </div>\n\n      {/* Mapa de Monitoreo en Tiempo Real */}\n      <div className=\"grid gap-6 mb-8\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <span>🗺️</span>\n              <span>Mapa de Operaciones</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <LiveLocationMap height=\"600px\" showAccuracyCircle={true} />\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Panel de Control de Rastreo */}\n      <div className=\"grid gap-6\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <span>📡</span>\n              <span>Control de Rastreo</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <LocationTracker />\n          </CardContent>\n        </Card>\n\n        {/* Actividades Recientes */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <span>📝</span>\n              <span>Registro de Actividades</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {[\n                {\n                  type: \"alert\",\n                  message: \"Actividad sospechosa detectada en Sector A-7\",\n                  time: \"Hace 5 minutos\"\n                },\n                {\n                  type: \"warning\",\n                  message: \"Nueva área de monitoreo establecida\",\n                  time: \"Hace 15 minutos\"\n                },\n                {\n                  type: \"info\",\n                  message: \"Actualización de coordenadas recibida\",\n                  time: \"Hace 30 minutos\"\n                }\n              ].map((activity, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-start gap-4 p-4 border-b last:border-0\"\n                >\n                  <div className=\"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center\">\n                    {activity.type === \"alert\" ? \"🚨\" : \n                     activity.type === \"warning\" ? \"⚠️\" : \"ℹ️\"}\n                  </div>\n                  <div>\n                    <p className=\"font-medium\">{activity.message}</p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {activity.time}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}